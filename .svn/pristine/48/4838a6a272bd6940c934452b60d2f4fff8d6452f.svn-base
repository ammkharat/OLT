using NUnit.Framework;

namespace Com.Suncor.Olt.Remote.DataAccess
{
    [TestFixture]
    [Category("Database")]
    // TODO: (Troy) keep this, but use an existing object instead, and the TransactionServiceInterceptor.
    public class ManagedDataLayerTest
    {
//        IFooDao dao;
//        [TestFixtureSetUp]
//        public void SetUpFixture()
//        {
//            const string SQL_SERVER_KEY = "SqlServer";
//            string connectionString = ConfigurationManager.ConnectionStrings[SQL_SERVER_KEY].ConnectionString;
//
//            ProxyGenerator generator = new ProxyGenerator();
//            IFooDao proxyDao = generator.CreateInterfaceProxyWithTarget<IFooDao>(new ManagedFooDao(),
//                                                              new ManagedInterceptor(connectionString));
////            IFooDao proxyDao = (IFooDao)generator.CreateProxy(typeof(IFooDao), new ManagedInterceptor(connectionString), new ManagedFooDao());
//            DaoRegistry.Clear();
//            DaoRegistry.RegisterDaoFor(typeof(Foo), proxyDao);
//        }
//
//        [SetUp]
//        public void SetUp()
//        {
//            dao = DaoRegistry.GetDao<IFooDao>(typeof(Foo));
//        }
//
//        [Ignore] [Test]
//        public void QueryAllFoosFromDatabase()
//        { 
//            IList<Foo> fooList = dao.QueryAllFoo();
//            Assert.IsTrue(fooList.Count > 0);
//        }
    }
}